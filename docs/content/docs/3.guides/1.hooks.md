---
title: Hooks
description: Use lifecycle hooks to perform actions during the NuxtHub lifecycle.
---

## Nuxt Hooks

::field-group
  ::field{name="'hub:database:migrations:dirs'" type="(dirs: string[]) => void | Promise<void>"}
    Add additional directories to scan for database migration files (.sql).
  ::
  ::field{name="'hub:database:queries:paths'" type="(queries: string[]) => void | Promise<void>"}
    Add queries that are not tracked in the `_hub_migrations` table which are applied after the database migrations complete.
  ::
::



#### Usage

You can hook into the NuxtHub lifecycle using Nuxt hooks:

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  hooks: {
    'hub:database:migrations:dirs': (dirs) => {
      dirs.push('my-module/database/migrations')
    }
  }
})
```

```ts [modules/my-module/index.ts]
export default defineNuxtModule({
  setup(options, nuxt) {
    nuxt.hook('hub:database:migrations:dirs', (dirs) => {
      dirs.push('my-module/database/migrations')
    })
  }
})
```

## Server Hooks

::field-group
  ::field{name="'hub:database:migrations:done'" type="() => void"}
    Called when the database migrations are completed.
  ::
::

#### Usage

You can hook into the NuxtHub lifecycle using Nitro hooks:

```ts [server/plugins/hub.ts]
export default defineNitroPlugin((nitroApp) => {
  nitroApp.hooks.hook('database:migrations:done', () => {
    console.log('Database migrations are done!')
  })
})

```

<br>

::note{to="https://nuxt.com/docs/4.x/guide/going-further/hooks#server-hooks-runtime"}
Learn more about Nuxt server hooks on the [Nuxt documentation](https://nuxt.com/docs/4.x/guide/going-further/hooks#server-hooks-runtime).
::
